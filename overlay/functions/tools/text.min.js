let c=null;import{strokeColor,lineWidth,fontStyle}from"/overlay/functions/tool";let randomHex=()=>Math.floor(16777215*Math.random()).toString(16);const Text=(p,strokeColor,lineWidth)=>{c=p,console.log("Text",c),$("#overlay-canvas").off("mousedown"),$("#overlay-canvas").off("mousemove"),$("#overlay-canvas").off("mouseup"),$("#overlay-canvas").on("mousedown",mouseDown),$("#overlay-canvas").on("keydown",keyDown),$("#tool-options").removeClass(),$("#tool-options").addClass("tool-option-enabled"),$("#tool-options").addClass("to-text"),$("#to-stroke").val(strokeColor),$("#to-line-width").text(lineWidth)};let typing=!1,x=0,y=0,_c=null,font=null,fontSize=null;function mouseDown(e){typing=!0,x=e.pageX,y=e.pageY,fontSize=5*lineWidth,font=fontSize+"px "+fontStyle;let _id="text-"+randomHex();$("body").append('<div id="'+_id+'">Edit text</div>'),_c=$("#"+_id),$(_c).on("keydown",keyDown),$(_c).on("mousemove",mouseMove),$(_c).css("position","absolute"),$(_c).css("left",x),$(_c).css("top",y),$(_c).css("width","auto"),$(_c).css("height","auto"),$(_c).css("border","1px dashed red"),$(_c).css("padding","4px"),$(_c).css("z-index","80"),$(_c).css("font",font),$(_c).css("color",strokeColor),$(_c).css("outline","none"),$(_c).css("overflow","visible"),$(_c).css("white-space","nowrap"),$(_c).css("text-align","left"),$(_c).attr("contenteditable","true")}function mouseMove(e){fontSize=5*lineWidth,font=fontSize+"px "+fontStyle,$(_c).css("font",font),$(_c).css("color",strokeColor)}function keyDown(e){fontSize=5*lineWidth,font=fontSize+"px "+fontStyle,$(_c).css("font",font),$(_c).css("color",strokeColor),13==e.keyCode?(e.preventDefault(),$(_c).attr("contenteditable","false"),$(_c).css("border","none"),$(_c).css("pointer-events","none"),_c.off("keydown"),_c.off("mousemove")):($(_c).css("width","auto"),$(_c).css("height","auto"))}export default Text;